<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: JSS
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!JSS.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (J)</a> &raquo;
    
    
    <span class="title">JSS</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: JSS
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/jss.rb<span class="defines">,<br />
  lib/jss/db.rb,<br /> lib/jss/api.rb,<br /> lib/jss/client.rb,<br /> lib/jss/server.rb,<br /> lib/jss/version.rb,<br /> lib/jss/composer.rb,<br /> lib/jss/api_object.rb,<br /> lib/jss/exceptions.rb,<br /> lib/jss/api_object/user.rb,<br /> lib/jss/api_object/group.rb,<br /> lib/jss/api_object/report.rb,<br /> lib/jss/api_object/policy.rb,<br /> lib/jss/api_object/script.rb,<br /> lib/jss/api_object/package.rb,<br /> lib/jss/api_object/building.rb,<br /> lib/jss/api_object/scopable.rb,<br /> lib/jss/api_object/category.rb,<br /> lib/jss/api_object/computer.rb,<br /> lib/jss/api_object/creatable.rb,<br /> lib/jss/api_object/matchable.rb,<br /> lib/jss/api_object/locatable.rb,<br /> lib/jss/api_object/updatable.rb,<br /> lib/jss/api_object/peripheral.rb,<br /> lib/jss/api_object/department.rb,<br /> lib/jss/api_object/criteriable.rb,<br /> lib/jss/api_object/purchasable.rb,<br /> lib/jss/api_object/file_upload.rb,<br /> lib/jss/api_object/mobile_device.rb,<br /> lib/jss/api_object/scopable/scope.rb,<br /> lib/jss/api_object/netboot_server.rb,<br /> lib/jss/api_object/advanced_search.rb,<br /> lib/jss/api_object/network_segment.rb,<br /> lib/jss/api_object/peripheral_type.rb,<br /> lib/jss/api_object/group/user_group.rb,<br /> lib/jss/api_object/removable_macaddr.rb,<br /> lib/jss/api_object/distribution_point.rb,<br /> lib/jss/api_object/extension_attribute.rb,<br /> lib/jss/api_object/criteriable/criteria.rb,<br /> lib/jss/api_object/group/computer_group.rb,<br /> lib/jss/api_object/criteriable/criterion.rb,<br /> lib/jss/api_object/software_update_server.rb,<br /> lib/jss/api_object/report/computer_report.rb,<br /> lib/jss/api_object/group/mobile_device_group.rb,<br /> lib/jss/api_object/advanced_search/advanced_user_search.rb,<br /> lib/jss/api_object/advanced_search/advanced_computer_search.rb,<br /> lib/jss/api_object/extension_attribute/user_extension_attribute.rb,<br /> lib/jss/api_object/advanced_search/advanced_mobile_device_search.rb,<br /> lib/jss/api_object/extension_attribute/computer_extension_attribute.rb,<br /> lib/jss/api_object/extension_attribute/mobile_device_extension_attribute.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>JSS, A Ruby module for interacting with the JAMF Software Server via it’s
API.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="JSS/Composer.html" title="JSS::Composer (module)">Composer</a></span>, <span class='object_link'><a href="JSS/Creatable.html" title="JSS::Creatable (module)">Creatable</a></span>, <span class='object_link'><a href="JSS/Criteriable.html" title="JSS::Criteriable (module)">Criteriable</a></span>, <span class='object_link'><a href="JSS/FileUpload.html" title="JSS::FileUpload (module)">FileUpload</a></span>, <span class='object_link'><a href="JSS/Locatable.html" title="JSS::Locatable (module)">Locatable</a></span>, <span class='object_link'><a href="JSS/Matchable.html" title="JSS::Matchable (module)">Matchable</a></span>, <span class='object_link'><a href="JSS/Purchasable.html" title="JSS::Purchasable (module)">Purchasable</a></span>, <span class='object_link'><a href="JSS/Scopable.html" title="JSS::Scopable (module)">Scopable</a></span>, <span class='object_link'><a href="JSS/Updatable.html" title="JSS::Updatable (module)">Updatable</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="JSS/APIConnection.html" title="JSS::APIConnection (class)">APIConnection</a></span>, <span class='object_link'><a href="JSS/APIObject.html" title="JSS::APIObject (class)">APIObject</a></span>, <span class='object_link'><a href="JSS/AdvancedComputerSearch.html" title="JSS::AdvancedComputerSearch (class)">AdvancedComputerSearch</a></span>, <span class='object_link'><a href="JSS/AdvancedMobileDeviceSearch.html" title="JSS::AdvancedMobileDeviceSearch (class)">AdvancedMobileDeviceSearch</a></span>, <span class='object_link'><a href="JSS/AdvancedSearch.html" title="JSS::AdvancedSearch (class)">AdvancedSearch</a></span>, <span class='object_link'><a href="JSS/AdvancedUserSearch.html" title="JSS::AdvancedUserSearch (class)">AdvancedUserSearch</a></span>, <span class='object_link'><a href="JSS/AlreadyExistsError.html" title="JSS::AlreadyExistsError (class)">AlreadyExistsError</a></span>, <span class='object_link'><a href="JSS/Building.html" title="JSS::Building (class)">Building</a></span>, <span class='object_link'><a href="JSS/Category.html" title="JSS::Category (class)">Category</a></span>, <span class='object_link'><a href="JSS/Client.html" title="JSS::Client (class)">Client</a></span>, <span class='object_link'><a href="JSS/Computer.html" title="JSS::Computer (class)">Computer</a></span>, <span class='object_link'><a href="JSS/ComputerExtensionAttribute.html" title="JSS::ComputerExtensionAttribute (class)">ComputerExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/ComputerGroup.html" title="JSS::ComputerGroup (class)">ComputerGroup</a></span>, <span class='object_link'><a href="JSS/ComputerReport.html" title="JSS::ComputerReport (class)">ComputerReport</a></span>, <span class='object_link'><a href="JSS/DBConnection.html" title="JSS::DBConnection (class)">DBConnection</a></span>, <span class='object_link'><a href="JSS/Department.html" title="JSS::Department (class)">Department</a></span>, <span class='object_link'><a href="JSS/DistributionPoint.html" title="JSS::DistributionPoint (class)">DistributionPoint</a></span>, <span class='object_link'><a href="JSS/ExtensionAttribute.html" title="JSS::ExtensionAttribute (class)">ExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/FileServiceError.html" title="JSS::FileServiceError (class)">FileServiceError</a></span>, <span class='object_link'><a href="JSS/Group.html" title="JSS::Group (class)">Group</a></span>, <span class='object_link'><a href="JSS/InvalidConnectionError.html" title="JSS::InvalidConnectionError (class)">InvalidConnectionError</a></span>, <span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span>, <span class='object_link'><a href="JSS/MissingDataError.html" title="JSS::MissingDataError (class)">MissingDataError</a></span>, <span class='object_link'><a href="JSS/MobileDevice.html" title="JSS::MobileDevice (class)">MobileDevice</a></span>, <span class='object_link'><a href="JSS/MobileDeviceExtensionAttribute.html" title="JSS::MobileDeviceExtensionAttribute (class)">MobileDeviceExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/MobileDeviceGroup.html" title="JSS::MobileDeviceGroup (class)">MobileDeviceGroup</a></span>, <span class='object_link'><a href="JSS/NetBootServer.html" title="JSS::NetBootServer (class)">NetBootServer</a></span>, <span class='object_link'><a href="JSS/NetbootServer.html" title="JSS::NetbootServer (class)">NetbootServer</a></span>, <span class='object_link'><a href="JSS/NetworkSegment.html" title="JSS::NetworkSegment (class)">NetworkSegment</a></span>, <span class='object_link'><a href="JSS/NoSuchItemError.html" title="JSS::NoSuchItemError (class)">NoSuchItemError</a></span>, <span class='object_link'><a href="JSS/Package.html" title="JSS::Package (class)">Package</a></span>, <span class='object_link'><a href="JSS/Peripheral.html" title="JSS::Peripheral (class)">Peripheral</a></span>, <span class='object_link'><a href="JSS/PeripheralType.html" title="JSS::PeripheralType (class)">PeripheralType</a></span>, <span class='object_link'><a href="JSS/Policy.html" title="JSS::Policy (class)">Policy</a></span>, <span class='object_link'><a href="JSS/RemovableMacAddress.html" title="JSS::RemovableMacAddress (class)">RemovableMacAddress</a></span>, <span class='object_link'><a href="JSS/Report.html" title="JSS::Report (class)">Report</a></span>, <span class='object_link'><a href="JSS/Script.html" title="JSS::Script (class)">Script</a></span>, <span class='object_link'><a href="JSS/Server.html" title="JSS::Server (class)">Server</a></span>, <span class='object_link'><a href="JSS/SoftwareUpdateServer.html" title="JSS::SoftwareUpdateServer (class)">SoftwareUpdateServer</a></span>, <span class='object_link'><a href="JSS/UnmanagedError.html" title="JSS::UnmanagedError (class)">UnmanagedError</a></span>, <span class='object_link'><a href="JSS/UnsupportedError.html" title="JSS::UnsupportedError (class)">UnsupportedError</a></span>, <span class='object_link'><a href="JSS/User.html" title="JSS::User (class)">User</a></span>, <span class='object_link'><a href="JSS/UserExtensionAttribute.html" title="JSS::UserExtensionAttribute (class)">UserExtensionAttribute</a></span>, <span class='object_link'><a href="JSS/UserGroup.html" title="JSS::UserGroup (class)">UserGroup</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="MINIMUM_SERVER_VERSION-constant" class="">MINIMUM_SERVER_VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>The minimum JSS version that works with this gem, as returned by the API in
the deprecated ‘jssuser’ resource</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;9.32&quot;</span>
</pre></dd>
      
        <dt id="TIME_ZONE_OFFSET-constant" class="">TIME_ZONE_OFFSET =
          <div class="docstring">
  <div class="discussion">
    
<p>The current local UTC offset as a fraction of a day  (Time.now.utc_offset
is the offset in seconds, 60*60*24 is the seconds in a day)</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_Rational constant id'>Rational</span><span class='lparen token'>(</span><span class='rubyid_Time constant id'>Time</span><span class='dot token'>.</span><span class='rubyid_now identifier id'>now</span><span class='dot token'>.</span><span class='rubyid_utc_offset identifier id'>utc_offset</span><span class='comma token'>,</span> <span class='integer val'>60</span><span class='mult op'>*</span><span class='integer val'>60</span><span class='mult op'>*</span><span class='integer val'>24</span><span class='rparen token'>)</span>
</pre></dd>
      
        <dt id="NO_SITE-constant" class="">NO_SITE =
          <div class="docstring">
  <div class="discussion">
    
<p>This is the current local UTC offset the default, non-site</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span><span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;None&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='integer val'>-1</span><span class='rbrace token'>}</span>
</pre></dd>
      
        <dt id="TRUE_FALSE-constant" class="">TRUE_FALSE =
          <div class="docstring">
  <div class="discussion">
    
<p>These are handy for testing values without making new arrays, strings, etc
every time.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span><span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='rubyid_false false kw'>false</span><span class='rbrack token'>]</span>
</pre></dd>
      
        <dt id="DB_CNX-constant" class="">DB_CNX =
          <div class="docstring">
  <div class="discussion">
    
<p>The single instance of the DBConnection</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_DBConnection constant id'>DBConnection</span><span class='dot token'>.</span><span class='rubyid_instance identifier id'>instance</span>
</pre></dd>
      
        <dt id="DB-constant" class="">DB =
          <div class="docstring">
  <div class="discussion">
    
<p>The database itself, an attribute of the DBConnection, to which SQL queries
are sent.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_DB_CNX constant id'>DB_CNX</span><span class='dot token'>.</span><span class='rubyid_db identifier id'>db</span>
</pre></dd>
      
        <dt id="API-constant" class="">API =
          <div class="docstring">
  <div class="discussion">
    
<p>The single instance of the APIConnection</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_APIConnection constant id'>APIConnection</span><span class='dot token'>.</span><span class='rubyid_instance identifier id'>instance</span>
</pre></dd>
      
        <dt id="VERSION-constant" class="">VERSION =
          
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;1.0.0&quot;</span>
</pre></dd>
      
        <dt id="master_distribution_point-classvariable" class="">@@master_distribution_point =
          <div class="docstring">
  <div class="discussion">
    
<p>the master dist. point, see JSS.master_distribution_point</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_nil nil kw'>nil</span>
</pre></dd>
      
        <dt id="my_distribution_point-classvariable" class="">@@my_distribution_point =
          <div class="docstring">
  <div class="discussion">
    
<p>the dist point for this machine right now</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_nil nil kw'>nil</span>
</pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#array_to_rexml_array-class_method" title="array_to_rexml_array (class method)">+ (Array&lt;REXML::Element&gt;) <strong>array_to_rexml_array</strong>(element, list) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given an element name and an array of content, generate an Array of
REXML::Element objects with that name, and matching content.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#escape_xml-class_method" title="escape_xml (class method)">+ (String) <strong>escape_xml</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a string of xml element text, escape any characters that would make
XML unhappy.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand_min_os-class_method" title="expand_min_os (class method)">+ (Array) <strong>expand_min_os</strong>(min_os) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts an OS Version into an Array of higher OS versions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash_to_rexml_array-class_method" title="hash_to_rexml_array (class method)">+ (Array&lt;REXML::Element&gt;) <strong>hash_to_rexml_array</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a simple Hash, convert it to an array of REXML Elements such that
each key becomes an element, and its value becomes the text content of that
element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_list_to_rexml_list-class_method" title="item_list_to_rexml_list (class method)">+ (REXML::Element) <strong>item_list_to_rexml_list</strong>(list_element, item_element, item_list, content = :name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given an Array of Hashes with :id and/or :name keys, return a single REXML
element with a sub-element for each item, each of which contains a :name or
:id element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#my_ip_address-class_method" title="my_ip_address (class method)">+ (String) <strong>my_ip_address</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the current IP address as a String.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_datetime-class_method" title="parse_datetime (class method)">+ (DateTime<sup>?</sup>) <strong>parse_datetime</strong>(a_datetime) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts a String, Integer or nil to a DateTime (see
String#to_jss_datetime).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse_jss_version-class_method" title="parse_jss_version (class method)">+ (Hash{Symbol =&gt; String, Gem::Version}) <strong>parse_jss_version</strong>(version) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Parse a JSS Version number into something comparable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s_and_a-class_method" title="to_s_and_a (class method)">+ (Hash{:stringform =&gt; String, :arrayform =&gt; Array}) <strong>to_s_and_a</strong>(somedata) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Given a list of data as a comma-separated string, or an Array of strings,
return a Hash with both versions.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="array_to_rexml_array-class_method">
  
    + (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt>) <strong>array_to_rexml_array</strong>(element, list) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given an element name and an array of content, generate an Array of
REXML::Element objects with that name, and matching content. The array of
REXML elements would render thus:</p>

<pre class="code ruby18"><code class="ruby18">&lt;foo&gt;bar&lt;/foo&gt;
&lt;foo&gt;morefoo&lt;/foo&gt;</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an element_name like :foo,</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>list</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;#to_s&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of element content such as [“bar”, :morefoo]</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">JSS::InvalidDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206
207
208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 204</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_array_to_rexml_array identifier id'>array_to_rexml_array</span><span class='lparen token'>(</span><span class='rubyid_element identifier id'>element</span><span class='comma token'>,</span><span class='rubyid_list identifier id'>list</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidDataError constant id'>InvalidDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Arg. must be an Array.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_list identifier id'>list</span><span class='dot token'>.</span><span class='rubyid_kind_of? fid id'>kind_of?</span> <span class='rubyid_Array constant id'>Array</span>
  <span class='rubyid_element identifier id'>element</span> <span class='assign token'>=</span> <span class='rubyid_element identifier id'>element</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
  <span class='rubyid_list identifier id'>list</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='rubyid_e identifier id'>e</span> <span class='assign token'>=</span> <span class='rubyid_REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='rubyid_Element constant id'>Element</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_element identifier id'>element</span><span class='rparen token'>)</span>
    <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_text identifier id'>text</span> <span class='assign token'>=</span> <span class='rubyid_v identifier id'>v</span>
    <span class='rubyid_e identifier id'>e</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="escape_xml-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>escape_xml</strong>(string) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a string of xml element text, escape any characters that would make
XML unhappy.</p>

<pre class="ruby">* &amp; =<span class="ruby-operator">&gt;</span> &amp;<span class="ruby-identifier">amp</span>;
* <span class="ruby-string">&quot; =&gt; &amp;quot;
* &lt; =&gt; &amp;lt;
* &gt; =&gt; &amp;gt;
* ' =&gt; &amp;apos;
</span></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the string to make xml-compliant.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml-compliant string</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 189</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_escape_xml identifier id'>escape_xml</span><span class='lparen token'>(</span><span class='rubyid_string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='rubyid_string identifier id'>string</span><span class='dot token'>.</span><span class='rubyid_gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/&amp;/</span><span class='comma token'>,</span> <span class='string val'>'&amp;amp;'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\&quot;/</span><span class='comma token'>,</span> <span class='string val'>'&amp;quot;'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/&gt;/</span><span class='comma token'>,</span> <span class='string val'>'&amp;gt;'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/&lt;/</span><span class='comma token'>,</span> <span class='string val'>'&amp;lt;'</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/'/</span><span class='comma token'>,</span> <span class='string val'>'&amp;apos;'</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand_min_os-class_method">
  
    + (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>expand_min_os</strong>(min_os) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts an OS Version into an Array of higher OS versions.</p>

<p>It’s unlikely that this library will still be in use as-is by the release
of OS X 10.19.15. Hopefully well before then JAMF will implement a
“minimum OS” in the JSS itself.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>min_os</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the mimimum OS version to expand, e.g. “&gt;=10.6.7”  or “10.6.7”</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Nearly all potential OS versions from the minimum to 10.19.x</p>
<dl class="rdoc-list label-list"><dt>“10.6.7”, “10.6.8”,“10.6.9”,“10.6.10”,“10.6.11”,“10.6.12”,“10.6.13”,“10.6.14”,“10.6.15”,“10.7.x”,“10.8.x”,“10.9.x”,“10.10.x” …
<dd>
<p>(up to “10.19.x”)</p>
</dd></dl>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 127</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_expand_min_os identifier id'>expand_min_os</span> <span class='lparen token'>(</span><span class='rubyid_min_os identifier id'>min_os</span><span class='rparen token'>)</span>

  <span class='rubyid_min_os identifier id'>min_os</span><span class='dot token'>.</span><span class='rubyid_delete! fid id'>delete!</span> <span class='string val'>&quot;&gt;=&quot;</span>

  <span class='comment val'>### split the version into major, minor and maintenance release numbers</span>
  <span class='lparen token'>(</span><span class='rubyid_maj identifier id'>maj</span><span class='comma token'>,</span><span class='rubyid_min identifier id'>min</span><span class='comma token'>,</span><span class='rubyid_maint identifier id'>maint</span><span class='rparen token'>)</span> <span class='assign token'>=</span> <span class='rubyid_min_os identifier id'>min_os</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;.&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_maint identifier id'>maint</span> <span class='assign token'>=</span> <span class='string val'>&quot;x&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_maint identifier id'>maint</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_maint identifier id'>maint</span> <span class='eq op'>==</span> <span class='string val'>&quot;0&quot;</span>

  <span class='comment val'>### if the maint release number is an &quot;x&quot; just start the list of OK OS's with it</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_maint identifier id'>maint</span> <span class='eq op'>==</span> <span class='string val'>&quot;x&quot;</span>
    <span class='rubyid_ok_oses identifier id'>ok_oses</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_maj identifier id'>maj</span> <span class='plus op'>+</span> <span class='string val'>&quot;.&quot;</span> <span class='plus op'>+</span> <span class='rubyid_min identifier id'>min</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>&quot;.x&quot;</span><span class='rbrack token'>]</span>

  <span class='comment val'>### otherwise, start with it and explicitly add all maint releases up to 15</span>
  <span class='comment val'>### (and hope apple doesn't do more than 15 maint releases for an OS)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_ok_oses identifier id'>ok_oses</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='lparen token'>(</span><span class='rubyid_maint identifier id'>maint</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span><span class='dot2 op'>..</span><span class='integer val'>15</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_m identifier id'>m</span><span class='bitor op'>|</span>
      <span class='rubyid_ok_oses identifier id'>ok_oses</span> <span class='lshft op'>&lt;&lt;</span>  <span class='rubyid_maj identifier id'>maj</span> <span class='plus op'>+</span> <span class='string val'>&quot;.&quot;</span> <span class='plus op'>+</span> <span class='rubyid_min identifier id'>min</span> <span class='plus op'>+</span><span class='string val'>&quot;.&quot;</span> <span class='plus op'>+</span> <span class='rubyid_m identifier id'>m</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_end end kw'>end</span> <span class='comment val'># each m</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'>### now account for all OS X versions starting with 10.</span>
  <span class='comment val'>### up to at least 10.19.x</span>
  <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='rubyid_min identifier id'>min</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot2 op'>..</span><span class='integer val'>19</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='rubyid_ok_oses identifier id'>ok_oses</span> <span class='lshft op'>&lt;&lt;</span>  <span class='rubyid_maj identifier id'>maj</span> <span class='plus op'>+</span> <span class='string val'>&quot;.&quot;</span> <span class='plus op'>+</span> <span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>&quot;.x&quot;</span>
  <span class='rubyid_end end kw'>end</span> <span class='comment val'># each v</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_ok_oses identifier id'>ok_oses</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash_to_rexml_array-class_method">
  
    + (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt>) <strong>hash_to_rexml_array</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a simple Hash, convert it to an array of REXML Elements such that
each key becomes an element, and its value becomes the text content of that
element</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='rubyid_my_hash identifier id'>my_hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:foo</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;bar&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:baz</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:morefoo</span><span class='rbrace token'>}</span>
<span class='rubyid_xml identifier id'>xml</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='dot token'>.</span><span class='rubyid_hash_to_rexml_array identifier id'>hash_to_rexml_array</span><span class='lparen token'>(</span><span class='rubyid_my_hash identifier id'>my_hash</span><span class='rparen token'>)</span>
<span class='rubyid_xml identifier id'>xml</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_x identifier id'>x</span><span class='bitor op'>|</span> <span class='rubyid_puts identifier id'>puts</span> <span class='rubyid_x identifier id'>x</span> <span class='rbrace token'>}</span>

<span class='lt op'>&lt;</span><span class='rubyid_foo identifier id'>foo</span><span class='gt op'>&gt;</span><span class='rubyid_bar identifier id'>bar</span><span class='lt op'>&lt;</span><span class='regexp val'>/foo&gt;
&lt;baz&gt;morefoo&lt;/</span><span class='rubyid_baz identifier id'>baz</span><span class='gt op'>&gt;</span>
</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{#to_s =&gt; #to_s}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the Hash to convert</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;REXML::Element&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the Array of REXML elements.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="JSS/InvalidDataError.html" title="JSS::InvalidDataError (class)">InvalidDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 230</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_hash_to_rexml_array identifier id'>hash_to_rexml_array</span><span class='lparen token'>(</span><span class='rubyid_hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_InvalidDataError constant id'>InvalidDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Arg. must be a Hash.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_hash identifier id'>hash</span><span class='dot token'>.</span><span class='rubyid_kind_of? fid id'>kind_of?</span> <span class='rubyid_Hash constant id'>Hash</span>
  <span class='rubyid_ary identifier id'>ary</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='rubyid_hash identifier id'>hash</span><span class='dot token'>.</span><span class='rubyid_each_pair identifier id'>each_pair</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_k identifier id'>k</span><span class='comma token'>,</span><span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='rubyid_el identifier id'>el</span> <span class='assign token'>=</span> <span class='rubyid_REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='rubyid_Element constant id'>Element</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span> <span class='rubyid_k identifier id'>k</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
    <span class='rubyid_el identifier id'>el</span><span class='dot token'>.</span><span class='rubyid_text identifier id'>text</span> <span class='assign token'>=</span> <span class='rubyid_v identifier id'>v</span>
    <span class='rubyid_ary identifier id'>ary</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_el identifier id'>el</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_ary identifier id'>ary</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_list_to_rexml_list-class_method">
  
    + (<tt>REXML::Element</tt>) <strong>item_list_to_rexml_list</strong>(list_element, item_element, item_list, content = :name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given an Array of Hashes with :id and/or :name keys, return a single REXML
element with a sub-element for each item, each of which contains a :name or
:id element.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='rubyid_comps identifier id'>comps</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'kimchi'</span><span class='rbrace token'>}</span><span class='comma token'>,</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'mantis'</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
<span class='rubyid_xml identifier id'>xml</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='dot token'>.</span><span class='rubyid_item_list_to_rexml_list identifier id'>item_list_to_rexml_list</span><span class='lparen token'>(</span><span class='symbol val'>:computers</span><span class='comma token'>,</span> <span class='symbol val'>:computer</span> <span class='comma token'>,</span> <span class='rubyid_comps identifier id'>comps</span><span class='comma token'>,</span> <span class='symbol val'>:name</span><span class='rparen token'>)</span>
<span class='rubyid_puts identifier id'>puts</span> <span class='rubyid_xml identifier id'>xml</span>
<span class='comment val'># output manually formatted for clarity. No newlines in the real xml string</span>
<span class='lt op'>&lt;</span><span class='rubyid_computers identifier id'>computers</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='rubyid_computer identifier id'>computer</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='rubyid_name identifier id'>name</span><span class='gt op'>&gt;</span><span class='rubyid_kimchi identifier id'>kimchi</span><span class='lt op'>&lt;</span><span class='regexp val'>/name&gt;
  &lt;/</span><span class='rubyid_computer identifier id'>computer</span><span class='gt op'>&gt;</span>
  <span class='lt op'>&lt;</span><span class='rubyid_computer identifier id'>computer</span><span class='gt op'>&gt;</span>
    <span class='lt op'>&lt;</span><span class='rubyid_name identifier id'>name</span><span class='gt op'>&gt;</span><span class='rubyid_mantis identifier id'>mantis</span><span class='lt op'>&lt;</span><span class='regexp val'>/name&gt;
  &lt;/</span><span class='rubyid_computer identifier id'>computer</span><span class='gt op'>&gt;</span>
<span class='lt op'>&lt;</span><span class='regexp val'>/computers&gt;

# if content is :id, then, eg. &lt;name&gt;kimchi&lt;/n</span><span class='rubyid_ame identifier id'>ame</span><span class='gt op'>&gt;</span> <span class='rubyid_would identifier id'>would</span> <span class='rubyid_be identifier id'>be</span> <span class='lt op'>&lt;</span><span class='rubyid_id identifier id'>id</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='lt op'>&lt;</span><span class='regexp val'>/id&gt;
</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>list_element</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of the XML element that contains the list. e.g. :computers</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>item_element</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the name of each XML element in the list, e.g. :computer</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>item_list</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an Array of Hashes each with a :name or :id key, e.g.</p>
<dl class="rdoc-list label-list"><dt>:id=&gt;2,:name=&gt;‘kimchi’,:id=&gt;5,:name=&gt;‘mantis’
<dd></dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:name</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>which hash key should be used as the content of if list item? :name or :id,
defaults to :name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>REXML::Element</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 274</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_item_list_to_rexml_list identifier id'>item_list_to_rexml_list</span><span class='lparen token'>(</span><span class='rubyid_list_element identifier id'>list_element</span><span class='comma token'>,</span> <span class='rubyid_item_element identifier id'>item_element</span> <span class='comma token'>,</span> <span class='rubyid_item_list identifier id'>item_list</span><span class='comma token'>,</span> <span class='rubyid_content identifier id'>content</span> <span class='assign token'>=</span> <span class='symbol val'>:name</span><span class='rparen token'>)</span>
  <span class='rubyid_xml_list identifier id'>xml_list</span> <span class='assign token'>=</span> <span class='rubyid_REXML constant id'>REXML</span><span class='colon2 op'>::</span><span class='rubyid_Element constant id'>Element</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span>  <span class='rubyid_list_element identifier id'>list_element</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span>
  <span class='rubyid_item_list identifier id'>item_list</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='rubyid_xml_list identifier id'>xml_list</span><span class='dot token'>.</span><span class='rubyid_add_element identifier id'>add_element</span><span class='lparen token'>(</span><span class='rubyid_item_element identifier id'>item_element</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_add_element identifier id'>add_element</span><span class='lparen token'>(</span><span class='rubyid_content identifier id'>content</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_text identifier id'>text</span> <span class='assign token'>=</span> <span class='rubyid_i identifier id'>i</span><span class='lbrack token'>[</span><span class='rubyid_content identifier id'>content</span><span class='rbrack token'>]</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_xml_list identifier id'>xml_list</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="my_ip_address-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>my_ip_address</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the current IP address as a String.</p>

<p>This handy code doesn’t acutally make a UDP connection, it just starts to
set up the connection, then uses that to get the local IP.</p>

<p>Lifted gratefully from <a
href="http://coderrr.wordpress.com/2008/05/28/get-your-local-ip-address">coderrr.wordpress.com/2008/05/28/get-your-local-ip-address</a>/</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the current IP address.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74
75
76
77
78
79
80
81
82
83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 74</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_my_ip_address identifier id'>my_ip_address</span>
  <span class='comment val'>### turn off reverse DNS resolution temporarily</span>
  <span class='comment val'>### @note the 'socket' library has already been required by 'rest-client'</span>
  <span class='rubyid_orig identifier id'>orig</span><span class='comma token'>,</span> <span class='rubyid_Socket constant id'>Socket</span><span class='dot token'>.</span><span class='rubyid_do_not_reverse_lookup identifier id'>do_not_reverse_lookup</span> <span class='assign token'>=</span> <span class='rubyid_Socket constant id'>Socket</span><span class='dot token'>.</span><span class='rubyid_do_not_reverse_lookup identifier id'>do_not_reverse_lookup</span><span class='comma token'>,</span> <span class='rubyid_true true kw'>true</span>

  <span class='rubyid_UDPSocket constant id'>UDPSocket</span><span class='dot token'>.</span><span class='rubyid_open identifier id'>open</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_s identifier id'>s</span><span class='bitor op'>|</span>
    <span class='rubyid_s identifier id'>s</span><span class='dot token'>.</span><span class='rubyid_connect identifier id'>connect</span> <span class='string val'>'192.168.0.0'</span><span class='comma token'>,</span> <span class='integer val'>1</span>
    <span class='rubyid_s identifier id'>s</span><span class='dot token'>.</span><span class='rubyid_addr identifier id'>addr</span><span class='dot token'>.</span><span class='rubyid_last identifier id'>last</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_ensure ensure kw'>ensure</span>
  <span class='rubyid_Socket constant id'>Socket</span><span class='dot token'>.</span><span class='rubyid_do_not_reverse_lookup identifier id'>do_not_reverse_lookup</span> <span class='assign token'>=</span> <span class='rubyid_orig identifier id'>orig</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_datetime-class_method">
  
    + (<tt><span class='object_link'><a href="DateTime.html" title="DateTime (class)">DateTime</a></span></tt><sup>?</sup>) <strong>parse_datetime</strong>(a_datetime) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts a String, Integer or nil to a DateTime (see
String#to_jss_datetime)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>a_datetime</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>Integer</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="DateTime.html" title="DateTime (class)">DateTime</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>nil is returned if a_datetime is nil, 0 or an empty String.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 164</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_parse_datetime identifier id'>parse_datetime</span><span class='lparen token'>(</span><span class='rubyid_a_datetime identifier id'>a_datetime</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_a_datetime identifier id'>a_datetime</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_NilClass constant id'>NilClass</span>
      <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_when when kw'>when</span> <span class='integer val'>0</span>
      <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_when when kw'>when</span> <span class='string val'>&quot;&quot;</span>
      <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_a_datetime identifier id'>a_datetime</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_to_jss_datetime identifier id'>to_jss_datetime</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse_jss_version-class_method">
  
    + (<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{Symbol =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, Gem::Version}</tt>) <strong>parse_jss_version</strong>(version) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Parse a JSS Version number into something comparable</p>

<p>Unfortunately, the JSS version numbering is inconsistant and improper at
the moment. Version 9.32 should be version 9.3.2, so that it will be
recognizable as being less than 9.4</p>

<p>To work around this until JAMF standardizes version numbering, we will
assume any digits before the first dot is the major version and the first
digit after the first dot is the minor version and anything else, including
other dots, is the revision</p>

<p>If that revision starts with a dot, it is removed. so 9.32 becomes 
major-9, minor-3, rev-2 and 9.32.3764 becomes major-9, minor-3, rev-2.3764
and 9.3.2.3764 becomes major-9, minor-3, rev-2.3764</p>

<p>This method of parsing will break if the minor revision ever gets above 9.</p>

<p>Returns a hash with these keys:</p>
<ul><li>
<p>:major =&gt; the major version, Integer</p>
</li><li>
<p>:minor =&gt; the minor version, Integor</p>
</li><li>
<p>:revision =&gt; the revision, String</p>
</li><li>
<p>:version =&gt; a Gem::Version object built from the above keys, which is
easily compared to others.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a JSS version number from the API</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{Symbol =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, Gem::Version}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the parsed version data.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 313</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_parse_jss_version identifier id'>parse_jss_version</span><span class='lparen token'>(</span><span class='rubyid_version identifier id'>version</span><span class='rparen token'>)</span>
  <span class='rubyid_spl identifier id'>spl</span> <span class='assign token'>=</span> <span class='rubyid_version identifier id'>version</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span>

  <span class='rubyid_case case kw'>case</span> <span class='rubyid_spl identifier id'>spl</span><span class='dot token'>.</span><span class='rubyid_count identifier id'>count</span>
    <span class='rubyid_when when kw'>when</span> <span class='integer val'>1</span>
      <span class='rubyid_major identifier id'>major</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span>
      <span class='rubyid_minor identifier id'>minor</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
      <span class='rubyid_revision identifier id'>revision</span> <span class='assign token'>=</span> <span class='string val'>'0'</span>
    <span class='rubyid_when when kw'>when</span> <span class='integer val'>2</span>
      <span class='rubyid_major identifier id'>major</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span>
      <span class='rubyid_minor identifier id'>minor</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span>
      <span class='rubyid_revision identifier id'>revision</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
      <span class='rubyid_revision identifier id'>revision</span> <span class='assign token'>=</span> <span class='string val'>'0'</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_revision identifier id'>revision</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_major identifier id'>major</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span>
      <span class='rubyid_minor identifier id'>minor</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span>
      <span class='rubyid_revision identifier id'>revision</span> <span class='assign token'>=</span> <span class='rubyid_spl identifier id'>spl</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
      <span class='rubyid_revision identifier id'>revision</span> <span class='assign token'>=</span> <span class='rubyid_revision identifier id'>revision</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_revision identifier id'>revision</span><span class='dot token'>.</span><span class='rubyid_start_with? fid id'>start_with?</span> <span class='string val'>'.'</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'>###revision = revision[1..-1] if revision.start_with? '.'</span>
  <span class='lbrace token'>{</span> <span class='symbol val'>:major</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_major identifier id'>major</span><span class='comma token'>,</span>
    <span class='symbol val'>:minor</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_minor identifier id'>minor</span><span class='comma token'>,</span>
    <span class='symbol val'>:revision</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_revision identifier id'>revision</span><span class='comma token'>,</span>
    <span class='symbol val'>:version</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_Gem constant id'>Gem</span><span class='colon2 op'>::</span><span class='rubyid_Version constant id'>Version</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{major}.#{minor}.#{revision}&quot;</span><span class='rparen token'>)</span>
  <span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s_and_a-class_method">
  
    + (<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{:stringform =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, :arrayform =&gt; <span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>}</tt>) <strong>to_s_and_a</strong>(somedata) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Given a list of data as a comma-separated string, or an Array of strings,
return a Hash with both versions.</p>

<p>Some parts of the JSS require lists as comma-separated strings, while often
those data are easier work with as arrays. This method is a handy way to
get either form when given either form.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>somedata</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the data to parse, of either class, e.g. “foo, bar, baz” -or-
[“foo”, “bar”, “baz”]</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{:stringform =&gt; <span class='object_link'><a href="String.html" title="String (class)">String</a></span>, :arrayform =&gt; <span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the data as both comma-separated String and Array e.g. :stringform =&gt;
“foo, bar, baz”, :arrayform =&gt; [“foo”, “bar”, “baz”]</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss.rb', line 102</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_to_s_and_a identifier id'>to_s_and_a</span> <span class='lparen token'>(</span><span class='rubyid_somedata identifier id'>somedata</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_somedata identifier id'>somedata</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_String constant id'>String</span>
      <span class='rubyid_valstr identifier id'>valstr</span> <span class='assign token'>=</span> <span class='rubyid_somedata identifier id'>somedata</span>
      <span class='rubyid_valarr identifier id'>valarr</span> <span class='assign token'>=</span> <span class='rubyid_somedata identifier id'>somedata</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/,\s*/</span><span class='rparen token'>)</span>
    <span class='rubyid_when when kw'>when</span> <span class='rubyid_Array constant id'>Array</span>
      <span class='rubyid_valstr identifier id'>valstr</span> <span class='assign token'>=</span> <span class='rubyid_somedata identifier id'>somedata</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span> <span class='string val'>&quot;, &quot;</span>
      <span class='rubyid_valarr identifier id'>valarr</span> <span class='assign token'>=</span> <span class='rubyid_somedata identifier id'>somedata</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidDataError constant id'>InvalidDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Input must be a comma-separated String or an Array of Strings&quot;</span>
  <span class='rubyid_end end kw'>end</span> <span class='comment val'># case</span>
  <span class='rubyid_return return kw'>return</span> <span class='lbrace token'>{</span><span class='symbol val'>:stringform</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_valstr identifier id'>valstr</span><span class='comma token'>,</span> <span class='symbol val'>:arrayform</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_valarr identifier id'>valarr</span><span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Jul 18 15:10:55 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.8.7).
</div>

  </body>
</html>
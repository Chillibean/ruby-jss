<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: JSS::Script
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!JSS/Script.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span>
     &raquo; 
    <span class="title">Script</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: JSS::Script
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></li>
          
            <li class="next">JSS::Script</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Creatable.html" title="JSS::Creatable (module)">Creatable</a></span>, <span class='object_link'><a href="Updatable.html" title="JSS::Updatable (module)">Updatable</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/jss/api_object/script.rb<span class="defines">,<br />
  lib/jss.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A Script in the JSS</p>

<p>When instantiating a script, :data, :id or :name must be provided :id =&gt;
&lt;id&gt; or :name =&gt; &lt;script name&gt; will cause a lookup  for that
script in the API</p>

<p>:data must be the JSON response from a previous API lookup for a script.</p>

<p>Changes to existing values remain local until #update is called, which
saves them to the JSS.</p>

<p>To create a script that doesn’t yet exist in the JSS, use :id =&gt; :new
and provide a unique :name. Other values should be set via the setter
methods before calling #create, which will create the script in the JSS.</p>

<p>Here are the keys returned by a JSON API query for a script:</p>

<p>:category=&gt;“d3-preflight”, :filename=&gt;“pixit-507-2.d3pre”
:id=&gt;137, :info=&gt;“”, :name=&gt;“pixit-507-2.d3pre”,
:notes=&gt;“”, :os_requirements=&gt;“”, :parameters=&gt;{},
:priority=&gt;“Before”,</p>

<p>If script contents (aka code) are saved in the database, and you have
database access with JSS::DB_CNX then the #fetch_code, #code=, and
#save_code methods can be used to work with that code. If
JSS::DB_CNX.connected? is true when instantiated, #fetch_code will be
called automatically when the script already exists in the JSS.</p>

<p>If your scripts are stored on the master distribution point, you can use
#upload_master_file to save it to the server, and #delete_master_file to
delete it from the server.</p>

<p>See also JSS::APIObject</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="RSRC_BASE-constant" class="">RSRC_BASE =
          <div class="docstring">
  <div class="discussion">
    
<p>The base for REST resources of this class</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;scripts&quot;</span>
</pre></dd>
      
        <dt id="RSRC_LIST_KEY-constant" class="">RSRC_LIST_KEY =
          <div class="docstring">
  <div class="discussion">
    
<p>the hash key used for the JSON list output of all objects in the JSS</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='symbol val'>:scripts</span>
</pre></dd>
      
        <dt id="RSRC_OBJECT_KEY-constant" class="">RSRC_OBJECT_KEY =
          <div class="docstring">
  <div class="discussion">
    
<p>The hash key used for the JSON object output. It’s also used in various
error messages</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='symbol val'>:script</span>
</pre></dd>
      
        <dt id="VALID_DATA_KEYS-constant" class="">VALID_DATA_KEYS =
          <div class="docstring">
  <div class="discussion">
    
<p>these keys, as well as :id and :name,  are present in valid API JSON data
for this class</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:parameters</span><span class='comma token'>,</span> <span class='symbol val'>:filename</span><span class='comma token'>,</span> <span class='symbol val'>:os_requirements</span> <span class='rbrack token'>]</span>
</pre></dd>
      
        <dt id="DIST_POINT_SCRIPTS_FOLDER-constant" class="">DIST_POINT_SCRIPTS_FOLDER =
          <div class="docstring">
  <div class="discussion">
    
<p>The script storage folder on the distribution point, if used</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;Scripts&quot;</span>
</pre></dd>
      
        <dt id="PRIORITIES-constant" class="">PRIORITIES =
          <div class="docstring">
  <div class="discussion">
    
<p>Priority to use for running the script in relation to other actions during
imaging</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span> <span class='string val'>'Before'</span><span class='comma token'>,</span> <span class='string val'>'After'</span><span class='comma token'>,</span><span class='string val'>'At Reboot'</span><span class='rbrack token'>]</span>
</pre></dd>
      
        <dt id="DEFAULT_PRIORITY-constant" class="">DEFAULT_PRIORITY =
          <div class="docstring">
  <div class="discussion">
    
<p>which is default?</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;After&quot;</span>
</pre></dd>
      
        <dt id="PARAMETER_KEYS-constant" class="">PARAMETER_KEYS =
          <div class="docstring">
  <div class="discussion">
    
<p>The keys used in the @parameters Hash</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:parameter4</span><span class='comma token'>,</span> <span class='symbol val'>:parameter5</span><span class='comma token'>,</span> <span class='symbol val'>:parameter6</span><span class='comma token'>,</span><span class='symbol val'>:parameter7</span><span class='comma token'>,</span> <span class='symbol val'>:parameter8</span><span class='comma token'>,</span> <span class='symbol val'>:parameter9</span><span class='comma token'>,</span> <span class='symbol val'>:parameter10</span><span class='comma token'>,</span> <span class='symbol val'>:parameter11</span><span class='rbrack token'>]</span>
</pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Updatable.html" title="JSS::Updatable (module)">Updatable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Updatable.html#UPDATABLE-constant" title="JSS::Updatable::UPDATABLE (constant)">Updatable::UPDATABLE</a></span></p>

  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Creatable.html" title="JSS::Creatable (module)">Creatable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Creatable.html#CREATABLE-constant" title="JSS::Creatable::CREATABLE (constant)">Creatable::CREATABLE</a></span></p>

  
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="APIObject.html#DEFAULT_LOOKUP_KEYS-constant" title="JSS::APIObject::DEFAULT_LOOKUP_KEYS (constant)">APIObject::DEFAULT_LOOKUP_KEYS</a></span>, <span class='object_link'><a href="APIObject.html#REQUIRED_DATA_KEYS-constant" title="JSS::APIObject::REQUIRED_DATA_KEYS (constant)">APIObject::REQUIRED_DATA_KEYS</a></span></p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#category-instance_method" title="#category (instance method)">- (Object) <strong>category</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>String - the category of this script, stored in the JSS as the id number
from the categories table.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#code-instance_method" title="#code (instance method)">- (Object) <strong>code</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>the actual code for this script, if it’s stored in the database.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename-instance_method" title="#filename (instance method)">- (Object) <strong>filename</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>String the file name of the script, if stored in a Distr.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-instance_method" title="#info (instance method)">- (Object) <strong>info</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>String - the info field for this script.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#notes-instance_method" title="#notes (instance method)">- (Object) <strong>notes</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>String - the notes field for this script.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#os_requirements-instance_method" title="#os_requirements (instance method)">- (Object) <strong>os_requirements</strong> </a>
    

    
      (also: #oses)
    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Array of Strings - the OS versions this can be installed onto.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parameters-instance_method" title="#parameters (instance method)">- (Object) <strong>parameters</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Hash - Labels to use for script parameters 4-11.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#priority-instance_method" title="#priority (instance method)">- (Object) <strong>priority</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>String - either ‘Before’ or ‘After’ or “At Reboot”.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="APIObject.html#id-instance_method" title="JSS::APIObject#id (method)">#id</a></span>, <span class='object_link'><a href="APIObject.html#in_jss-instance_method" title="JSS::APIObject#in_jss (method)">#in_jss</a></span>, <span class='object_link'><a href="APIObject.html#name-instance_method" title="JSS::APIObject#name (method)">#name</a></span>, <span class='object_link'><a href="APIObject.html#need_to_update-instance_method" title="JSS::APIObject#need_to_update (method)">#need_to_update</a></span>, <span class='object_link'><a href="APIObject.html#rest_rsrc-instance_method" title="JSS::APIObject#rest_rsrc (method)">#rest_rsrc</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_master_file-instance_method" title="#delete_master_file (instance method)">- (Object) <strong>delete_master_file</strong>(rw_pw, unmount = true) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>delete the filename from the master distribution point, if it exists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_code-instance_method" title="#fetch_code (instance method)">- (Object) <strong>fetch_code</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Since there’s currently no API access to the script code when it’s
stored in the database it requires a database connection to read or save
it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Script) <strong>initialize</strong>(args = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Script.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name%3D-instance_method" title="#name= (instance method)">- (Object) <strong>name=</strong>(new_val) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change the display name If the filename is the same as the name, the
filename will be changed also new_val = string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_code-instance_method" title="#save_code (instance method)">- (Object) <strong>save_code</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Since there’s currently no API access to the script code when it’s
stored in the database it requires a database connection to read or save
it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_parameter-instance_method" title="#set_parameter (instance method)">- (Object) <strong>set_parameter</strong>(param_num, new_val) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change one of the parameter labels.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upload_master_file-instance_method" title="#upload_master_file (instance method)">- (Object) <strong>upload_master_file</strong>(rw_pw, unmount = true) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Save the @code for this script to a file on the Master Distribution point.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Updatable.html" title="JSS::Updatable (module)">Updatable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Updatable.html#save-instance_method" title="JSS::Updatable#save (method)">#save</a></span>, <span class='object_link'><a href="Updatable.html#update-instance_method" title="JSS::Updatable#update (method)">#update</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Creatable.html" title="JSS::Creatable (module)">Creatable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Creatable.html#create-instance_method" title="JSS::Creatable#create (method)">#create</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="APIObject.html" title="JSS::APIObject (class)">APIObject</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="APIObject.html#all-class_method" title="JSS::APIObject.all (method)">all</a></span>, <span class='object_link'><a href="APIObject.html#all_ids-class_method" title="JSS::APIObject.all_ids (method)">all_ids</a></span>, <span class='object_link'><a href="APIObject.html#all_names-class_method" title="JSS::APIObject.all_names (method)">all_names</a></span>, <span class='object_link'><a href="APIObject.html#delete-instance_method" title="JSS::APIObject#delete (method)">#delete</a></span>, <span class='object_link'><a href="APIObject.html#map_all_ids_to-class_method" title="JSS::APIObject.map_all_ids_to (method)">map_all_ids_to</a></span>, <span class='object_link'><a href="APIObject.html#xml_list-class_method" title="JSS::APIObject.xml_list (method)">xml_list</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="JSS::Script (class)">Script</a></span></tt>) <strong>initialize</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Script</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136
137
138
139
140
141
142
143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 133</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span> <span class='lparen token'>(</span><span class='rubyid_args identifier id'>args</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='rubyid_super super kw'>super</span>
  
  <span class='rubyid_@category ivar id'>@category</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:category</span><span class='rbrack token'>]</span>
  <span class='rubyid_@cat_id ivar id'>@cat_id</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_Category constant id'>Category</span><span class='dot token'>.</span><span class='rubyid_map_all_ids_to identifier id'>map_all_ids_to</span><span class='lparen token'>(</span><span class='symbol val'>:name</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_invert identifier id'>invert</span><span class='lbrack token'>[</span><span class='rubyid_@category ivar id'>@category</span><span class='rbrack token'>]</span>
  <span class='rubyid_@filename ivar id'>@filename</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:filename</span><span class='rbrack token'>]</span>
  <span class='rubyid_@info ivar id'>@info</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:info</span><span class='rbrack token'>]</span>
  <span class='rubyid_@notes ivar id'>@notes</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:notes</span><span class='rbrack token'>]</span>
  <span class='rubyid_@os_requirements ivar id'>@os_requirements</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:os_requirements</span><span class='rbrack token'>]</span>
  <span class='rubyid_@parameters ivar id'>@parameters</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:parameters</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='rubyid_data identifier id'>data</span><span class='lbrack token'>[</span><span class='symbol val'>:parameters</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@priority ivar id'>@priority</span> <span class='assign token'>=</span> <span class='rubyid_@init_data ivar id'>@init_data</span><span class='lbrack token'>[</span><span class='symbol val'>:priority</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_DEFAULT_PRIORITY constant id'>DEFAULT_PRIORITY</span>
  <span class='rubyid_@code ivar id'>@code</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="category=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="category-instance_method">
  
    - (<tt>Object</tt>) <strong>category</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>String - the category of this script, stored in the JSS as the id number
from the categories table</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 121</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_category identifier id'>category</span>
  <span class='rubyid_@category ivar id'>@category</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="code=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="code-instance_method">
  
    - (<tt>Object</tt>) <strong>code</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>the actual code for this script, if it’s stored in the database.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 128</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_code identifier id'>code</span>
  <span class='rubyid_@code ivar id'>@code</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="filename=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="filename-instance_method">
  
    - (<tt>Object</tt>) <strong>filename</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>String the file name of the script, if stored in a Distr. point</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 105</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_filename identifier id'>filename</span>
  <span class='rubyid_@filename ivar id'>@filename</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="info=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="info-instance_method">
  
    - (<tt>Object</tt>) <strong>info</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>String - the info field for this script</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 115</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_info identifier id'>info</span>
  <span class='rubyid_@info ivar id'>@info</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="notes=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="notes-instance_method">
  
    - (<tt>Object</tt>) <strong>notes</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>String - the notes field for this script</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 118</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_notes identifier id'>notes</span>
  <span class='rubyid_@notes ivar id'>@notes</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="os_requirements=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="os_requirements-instance_method">
  
    - (<tt>Object</tt>) <strong>os_requirements</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='oses-instance_method'>oses</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Array of Strings - the OS versions this can be installed onto. For all
minor versions, the format is 10.5.x</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 108</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_os_requirements identifier id'>os_requirements</span>
  <span class='rubyid_@os_requirements ivar id'>@os_requirements</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="parameters=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="parameters-instance_method">
  
    - (<tt>Object</tt>) <strong>parameters</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Hash - Labels to use for script parameters 4-11.  Parameters 1 through 3
are predefined as mount point, computer name, and username</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 125</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_parameters identifier id'>parameters</span>
  <span class='rubyid_@parameters ivar id'>@parameters</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="priority-instance_method">
  
    - (<tt>Object</tt>) <strong>priority</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>String - either ‘Before’ or ‘After’ or “At Reboot”.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 112</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_priority identifier id'>priority</span>
  <span class='rubyid_@priority ivar id'>@priority</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="delete_master_file-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_master_file</strong>(rw_pw, unmount = true) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>delete the filename from the master distribution point, if it exists. The
first arg is the read/write password for the master dist. point. The second
arg is boolean, whether or not to unmount the dist. point when finished,
which defaults to true Returns true if deleted, false if not found</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


385
386
387
388
389
390
391
392
393
394
395</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 385</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_delete_master_file identifier id'>delete_master_file</span><span class='lparen token'>(</span><span class='rubyid_rw_pw identifier id'>rw_pw</span><span class='comma token'>,</span> <span class='rubyid_unmount identifier id'>unmount</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
  <span class='rubyid_file identifier id'>file</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DistributionPoint constant id'>DistributionPoint</span><span class='dot token'>.</span><span class='rubyid_master_distribution_point identifier id'>master_distribution_point</span><span class='dot token'>.</span><span class='rubyid_mount identifier id'>mount</span><span class='lparen token'>(</span><span class='rubyid_rw_pw identifier id'>rw_pw</span><span class='comma token'>,</span> <span class='symbol val'>:rw</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;#{DIST_POINT_SCRIPTS_FOLDER}/#{@filename}&quot;</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_file identifier id'>file</span><span class='dot token'>.</span><span class='rubyid_exist? fid id'>exist?</span>
    <span class='rubyid_file identifier id'>file</span><span class='dot token'>.</span><span class='rubyid_delete identifier id'>delete</span>
    <span class='rubyid_did_it identifier id'>did_it</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_did_it identifier id'>did_it</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span>
  <span class='rubyid_end end kw'>end</span> <span class='comment val'># if exists</span>
  <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DistributionPoint constant id'>DistributionPoint</span><span class='dot token'>.</span><span class='rubyid_master_distribution_point identifier id'>master_distribution_point</span><span class='dot token'>.</span><span class='rubyid_unmount identifier id'>unmount</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_unmount identifier id'>unmount</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_did_it identifier id'>did_it</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_code-instance_method">
  
    - (<tt>Object</tt>) <strong>fetch_code</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Since there’s currently no API access to the script code when it’s
stored in the database it requires a database connection to read or save
it. Hopefully this will not be needed in the near future</p>

<p>This fetches the code for this script from the Database.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">JSS::NoSuchItemError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 311</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_fetch_code identifier id'>fetch_code</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_NoSuchItemError constant id'>NoSuchItemError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Script not In JSS! Use #create to create this #{RSRC_OBJECT_KEY}.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@in_jss ivar id'>@in_jss</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidConnectionError constant id'>InvalidConnectionError</span><span class='comma token'>,</span> <span class='string val'>&quot;Database connection required for code fetching.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DB_CNX constant id'>DB_CNX</span><span class='dot token'>.</span><span class='rubyid_connected? fid id'>connected?</span>
  <span class='rubyid_qrez identifier id'>qrez</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DB_CNX constant id'>DB_CNX</span><span class='dot token'>.</span><span class='rubyid_db identifier id'>db</span><span class='dot token'>.</span><span class='rubyid_query identifier id'>query</span> <span class='dstring node'>&quot;SELECT script_contents from scripts where script_id = #{@id}&quot;</span>
  <span class='rubyid_res identifier id'>res</span> <span class='assign token'>=</span> <span class='rubyid_qrez identifier id'>qrez</span><span class='dot token'>.</span><span class='rubyid_fetch_row identifier id'>fetch_row</span>
  <span class='rubyid_@code ivar id'>@code</span> <span class='assign token'>=</span> <span class='rubyid_res identifier id'>res</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name=-instance_method">
  
    - (<tt>Object</tt>) <strong>name=</strong>(new_val) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change the display name If the filename is the same as the name, the
filename will be changed also new_val = string</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MissingDataError.html" title="JSS::MissingDataError (class)">JSS::MissingDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 171</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_name= identifier id'>name=</span> <span class='lparen token'>(</span><span class='rubyid_new_val identifier id'>new_val</span><span class='rparen token'>)</span>   
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_new_val identifier id'>new_val</span> <span class='eq op'>==</span> <span class='rubyid_@name ivar id'>@name</span>
  <span class='rubyid_new_val identifier id'>new_val</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_new_val identifier id'>new_val</span> <span class='eq op'>==</span> <span class='string val'>''</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Name can't be empty&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_new_val identifier id'>new_val</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_AlreadyExistsError constant id'>AlreadyExistsError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;A #{RSRC_OBJECT_KEY} already exists with the name '#{args[:name]}'&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_JSS constant id'>JSS</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_LIST_METHOD constant id'>LIST_METHOD</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_values identifier id'>values</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> 
      
  <span class='comment val'>### if the filename is the same, keep it the same</span>
  <span class='rubyid_@filename ivar id'>@filename</span> <span class='assign token'>=</span> <span class='rubyid_new_val identifier id'>new_val</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@filename ivar id'>@filename</span> <span class='eq op'>==</span> <span class='rubyid_@name ivar id'>@name</span>
  <span class='rubyid_@name ivar id'>@name</span> <span class='assign token'>=</span> <span class='rubyid_new_val identifier id'>new_val</span>
  
  <span class='comment val'>### if our REST resource is based on the name, update that too</span>
  <span class='rubyid_@rest_rsrc ivar id'>@rest_rsrc</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{RSRC_BASE}/name/#{URI.escape @name}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@rest_rsrc ivar id'>@rest_rsrc</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> <span class='string val'>'/name/'</span>
  <span class='rubyid_@need_to_update ivar id'>@need_to_update</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_code-instance_method">
  
    - (<tt>Object</tt>) <strong>save_code</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Since there’s currently no API access to the script code when it’s
stored in the database it requires a database connection to read or save
it. Hopefully this will not be needed in the near future</p>

<p>This saves the code for this script into the Database.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MissingDataError.html" title="JSS::MissingDataError (class)">JSS::MissingDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 326</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_save_code identifier id'>save_code</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;No code specified. Use #fetch_code or #code= first.&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@code ivar id'>@code</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_@code ivar id'>@code</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>   
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_NoSuchItemError constant id'>NoSuchItemError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Script not In JSS! Use #create to create this #{RSRC_OBJECT_KEY}.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@in_jss ivar id'>@in_jss</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidConnectionError constant id'>InvalidConnectionError</span><span class='comma token'>,</span> <span class='string val'>&quot;Database connection required for code saving.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DB_CNX constant id'>DB_CNX</span><span class='dot token'>.</span><span class='rubyid_connected? fid id'>connected?</span>
  <span class='rubyid_update identifier id'>update</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DB_CNX constant id'>DB_CNX</span><span class='dot token'>.</span><span class='rubyid_db identifier id'>db</span><span class='dot token'>.</span><span class='rubyid_prepare identifier id'>prepare</span> <span class='dstring node'>&quot;UPDATE scripts SET script_contents = '#{Mysql::quote(@code)}' WHERE script_id = '#{@id}'&quot;</span>
  <span class='rubyid_update identifier id'>update</span><span class='dot token'>.</span><span class='rubyid_execute identifier id'>execute</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_parameter-instance_method">
  
    - (<tt>Object</tt>) <strong>set_parameter</strong>(param_num, new_val) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change one of the parameter labels</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoSuchItemError.html" title="JSS::NoSuchItemError (class)">JSS::NoSuchItemError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296
297
298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 294</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_set_parameter identifier id'>set_parameter</span> <span class='lparen token'>(</span><span class='rubyid_param_num identifier id'>param_num</span><span class='comma token'>,</span> <span class='rubyid_new_val identifier id'>new_val</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_NoSuchItemError constant id'>NoSuchItemError</span><span class='comma token'>,</span> <span class='string val'>&quot;Parameter numbers must be from 4-11&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='float val'>4</span><span class='dot2 op'>..</span><span class='integer val'>11</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> <span class='rubyid_param_num identifier id'>param_num</span>
  <span class='rubyid_pkey identifier id'>pkey</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;parameter#{param_num}&quot;</span><span class='dot token'>.</span><span class='rubyid_to_sym identifier id'>to_sym</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidDataError constant id'>InvalidDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;parameter values must be strings or nil&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_new_val identifier id'>new_val</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_new_val identifier id'>new_val</span><span class='dot token'>.</span><span class='rubyid_kind_of? fid id'>kind_of?</span> <span class='rubyid_String constant id'>String</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_nil nil kw'>nil</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_new_val identifier id'>new_val</span> <span class='eq op'>==</span> <span class='rubyid_@parameters ivar id'>@parameters</span><span class='lbrack token'>[</span><span class='rubyid_pkey identifier id'>pkey</span><span class='rbrack token'>]</span>
  <span class='rubyid_@parameters ivar id'>@parameters</span><span class='lbrack token'>[</span><span class='rubyid_pkey identifier id'>pkey</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_new_val identifier id'>new_val</span>
  <span class='rubyid_@need_to_update ivar id'>@need_to_update</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upload_master_file-instance_method">
  
    - (<tt>Object</tt>) <strong>upload_master_file</strong>(rw_pw, unmount = true) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Save the @code for this script to a file on the Master Distribution point.</p>

<p>The first argument is the password for the read/write account on the master
dist. point The second arg is boolean, whether or not to unmount the dist.
point when finished, which defaults to true</p>

<p>use #code=  to set the code from a String or Pathname</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MissingDataError.html" title="JSS::MissingDataError (class)">JSS::MissingDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


371
372
373
374
375
376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_object/script.rb', line 371</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_upload_master_file identifier id'>upload_master_file</span><span class='lparen token'>(</span> <span class='rubyid_rw_pw identifier id'>rw_pw</span><span class='comma token'>,</span> <span class='rubyid_unmount identifier id'>unmount</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;No code specified. Use #code= first.&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@code ivar id'>@code</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_@code ivar id'>@code</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
  <span class='rubyid_destination identifier id'>destination</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DistributionPoint constant id'>DistributionPoint</span><span class='dot token'>.</span><span class='rubyid_master_distribution_point identifier id'>master_distribution_point</span><span class='dot token'>.</span><span class='rubyid_mount identifier id'>mount</span><span class='lparen token'>(</span><span class='rubyid_rw_pw identifier id'>rw_pw</span><span class='comma token'>,</span> <span class='symbol val'>:rw</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='dstring node'>&quot;#{DIST_POINT_SCRIPTS_FOLDER}/#{@filename}&quot;</span>
  <span class='rubyid_destination identifier id'>destination</span><span class='dot token'>.</span><span class='rubyid_save identifier id'>save</span> <span class='rubyid_@code ivar id'>@code</span>
  <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_DistributionPoint constant id'>DistributionPoint</span><span class='dot token'>.</span><span class='rubyid_master_distribution_point identifier id'>master_distribution_point</span><span class='dot token'>.</span><span class='rubyid_unmount identifier id'>unmount</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_unmount identifier id'>unmount</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Jul 18 15:11:11 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.8.7).
</div>

  </body>
</html>